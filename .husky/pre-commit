#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ðŸ” Running pre-commit checks..."

# Run linting
echo "ðŸ“ Linting code..."
npm run lint

# Validate documentation
echo "ðŸ“š Validating documentation..."
npm run docs:validate

# Check if documentation needs updating
echo "ðŸ”„ Checking documentation freshness..."
if git diff --cached --name-only | grep -E '\.(ts|tsx)$' > /dev/null; then
  echo "ðŸ“– TypeScript files changed, validating JSDoc coverage..."
  npm run docs:coverage
fi

echo "âœ… Pre-commit checks completed!" 