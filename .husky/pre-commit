#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Running pre-commit checks..."

# Run linting
echo "📝 Linting code..."
npm run lint

# Validate documentation
echo "📚 Validating documentation..."
npm run docs:validate

# Check if documentation needs updating
echo "🔄 Checking documentation freshness..."
if git diff --cached --name-only | grep -E '\.(ts|tsx)$' > /dev/null; then
  echo "📖 TypeScript files changed, validating JSDoc coverage..."
  npm run docs:coverage
fi

echo "✅ Pre-commit checks completed!" 